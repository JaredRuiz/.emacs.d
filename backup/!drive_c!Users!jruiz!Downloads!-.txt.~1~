<form #criteriaForm="ngForm" autocomplete="off" [hidden]="!searchFormVisible" class="search-form" novalidate>  
  <div class="SearchPageHeaderSection" [hidden]="!showSearchHeader">
    <div class="PageHeader">
      <span class="SearchPageHeaderText">
        Customer Search <app-loading-indicator [loading]="searching"></app-loading-indicator>
      </span>
    </div>    
    <div class="PageSubHeader">
      <span class="SearchPageSubHeaderText">
        Enter information into one or more of the fields below to begin your search
      </span>
    </div>
  </div>
  <div class="SearchOptionsContainer">
    <div class="PrimarySearchOptionsContainer">
      <div class="Row">
        <div class="FormControlGroup">
          <label for="accountNumberInput">Account (Base) #</label>
          <input type="text" autocomplete="disable" class="AccountNumberFormControlLight" id="accountNumberInput" [(ngModel)]="criteria.AccountNum"
            name="accountNumberInput" pattern="\d{1,9}" maxlength="9" [imask]="{mask: '000000000'}" data-container="body" data-toggle="popover"
            data-placement="right" data-content="Account # must be up to 9 digit number.">
          <div class="ValidationFeedbackError">
            Invalid Account #.
          </div>
          <label class="LinkText">
            <a id="locateAcctNo" href="#" (click)="onLocateAccountNo($event,locateAccountInfoModal)" tabindex="-1">
              Where can I find the Account (Base) #?
            </a>
          </label>
        </div>
      </div>
      <div class="Row">
        <div class="FormControlGroup">
          <label for="phoneNumberInput">Phone #</label>
          <input type="text" autocomplete="disable" class="PhoneNumberFormControlLight" id="phoneNumberInput" [(ngModel)]="criteria.Phone"
            name="phoneNumberInput" pattern="^(\d{3}-\d{4})|(\(\d{2,4}\)\s\d{3,3}-\d{4,4})$" maxlength="14" #phone="ngModel"
            [imask]="{ mask: [{ mask: '000-0000' }, { mask: '(000) 000-0000' }]}" [unmask]=true data-container="body" data-toggle="popover" data-placement="right" data-content="Phone # must be 7 or 10 digit number.">
          <div class="ValidationFeedbackError">
            Invalid Phone #.
          </div>
        </div>
      </div>
      <div class="Row">
        <div class="FormControlGroup">
          <label for="licenseNumberInput">Driver's License/State ID # (<a (click)="onPercentSymbolClicked(licenseNumberInput)"><span class="PercentSymbolText">%</span></a>)</label>
          <input type="text" autocomplete="disable" #licenseNumberInput class="DriverLicenseFormControlLight" id="licenseNumberInput" [(ngModel)]="criteria.DriversLicense"
            name="licenseNumberInput">
        </div>
      </div>
      <div class="Row">
        <div class="FormControlGroup">
          <label for="emailAddressInput">Email Address (<a (click)="onPercentSymbolClicked(emailAddressInput)"><span class="PercentSymbolText">%</span></a>)</label>
          <input type="text" autocomplete="disable" #emailAddressInput 
            class="EmailFormControlLight" id="emailAddressInput" [(ngModel)]="criteria.Email" name="emailAddressInput">
        </div>
      </div>
    </div>

    <div class="SecondarySearchOptionsContainer">
      <div class="Row">
        <div class="SearchCriteriaLastNameControl">
          <label for="lastNameInput">Last Name (<a (click)="onPercentSymbolClicked(lastNameInput)"><span class="PercentSymbolText">%</span></a>)</label>
          <input type="text" autocomplete="disable" #lastNameInput class="LastNameFormControlDark" id="lastNameInput" [(ngModel)]="criteria.LastName"
            name="lastNameInput">
        </div>
        <div class="SearchCriteriaFirstNameControl">
          <label for="firstNameInput">First Name (<a (click)="onPercentSymbolClicked(firstNameInput)"><span class="PercentSymbolText">%</span></a>)</label>
          <input type="text" autocomplete="disable" #firstNameInput class="FirstNameFormControlDark" id="firstNameInput" [(ngModel)]="criteria.FirstName"
            name="firstNameInput">
        </div>
        <div class="SearchCriteriaMiddleInitialControl">
          <label for="middleInitialInput">M.I.</label>
          <input type="text" autocomplete="disable" class="MiddleInitialFormControlDark" appWildcardRestrictMask [unmask]=true id="middleInitialInput" [(ngModel)]="criteria.MiddleName"
          maxlength="1" name="middleInitialInput">
        </div>
      </div>

      <div class="Row">
        <div class="SearchCriteriaStreetControl">
          <label for="streetNameInput">Street (<a (click)="onPercentSymbolClicked(streetNameInput)"><span class="PercentSymbolText">%</span></a>)</label>
          <input type="text" autocomplete="disable" #streetNameInput class="StreetFormControlDark" id="streetNameInput" [(ngModel)]="criteria.Street" name="streetNameInput">
        </div>
        <div class="SearchCriteriaApartmentControl">
          <label for="aptNoInput">Apt. #</label>
          <input type="text" autocomplete="disable" class="ApartmentNoFormControlDark" appWildcardRestrictMask [unmask]=true id="aptNoInput" [(ngModel)]="criteria.AptNum"
            name="aptNoInput">
        </div>
        <div class="SearchCriteriaPoBoxControl">
          <label for="pOBoxInput">P.O. Box</label>
          <input type="text" autocomplete="disable" class="POBoxFormControlDark" appWildcardRestrictMask [unmask]=true id="pOBoxInput" [(ngModel)]="criteria.POBox" name="pOBoxInput">
        </div>
      </div>

      <div class="Row">
        <div class="SearchCriteriaCityControl">
          <label for="cityInput">City</label>
          <input type="text" autocomplete="disable" class="CityFormControlDark" appWildcardRestrictMask [unmask]=true id="cityInput" [(ngModel)]="criteria.City" name="cityInput">
        </div>
        <div class="SearchCriteriaStateControl">
          <label for="stateInput">State</label>
          <!-- <input type="text" class="StateFormControlDark" list="dlstates" [(ngModel)]="criteria.State" name="stateInput">
          <datalist id=dlstates>
            <option *ngFor="let state of states" [ngValue]="state">{{state}}</option>
          </datalist> -->
          <ng-select [selectOnTab]=true class="StateFormControlBase" [items]="states" notFoundText="No state found" bindLabel="NAME" bindValue="NAME" [(ngModel)]="criteria.State" name="stateInput">
          </ng-select>
        </div>
        <div class="SearchCriteriaZipCodeControl">
          <label for="zipInput">Zip Code</label>
          <input type="text" autocomplete="disable" class="ZipFormControlDark" appWildcardRestrictMask [unmask]=true id="zipInput" [(ngModel)]="criteria.Zip" name="zipInput"
            #zip="ngModel">
        </div>
      </div>

      <div class="Row">
        <div class="SearchCriteriaPreferredStoreControl">
          <label for="preferredStoreInput">Preferred Store</label>
          <!-- <input type="text" class="PreferredStoreFormControlDark" list="stores" [(ngModel)]="criteria.PreferredStore" name="preferredStoreInput">
          <datalist id="stores">
            <option *ngFor="let store of preferredStores" [ngValue]="store">{{store}}</option>
          </datalist> -->
          <!-- <select class="PreferredStoreFormControlDark" [(ngModel)]="criteria.PreferredStore" name="preferredStoreInput">
            <option *ngFor="let store of preferredStores" [ngValue]="store">{{store}}</option>
          </select> -->
          <ng-select [selectOnTab]=true class="PreferredStoreFormControlBase" [items]="preferredStores" notFoundText="No preferred store found" bindLabel="STORENAME" bindValue="STORENUMBER" [(ngModel)]="criteria.PreferredStore"
            name="preferredStoreInput">
          </ng-select>
        </div>
        <div class="SearchCriteriaDobControl">
          <label for="dOBInput">DOB</label>
          <input type="text" autocomplete="disable" class="DOBFormControlDark" id="dOBInput" placeholder="mm/dd/yyyy" [(ngModel)]="criteria.DOB"
            name="dOBInput" pattern="^(?:(?:(?:0[13578]|1[02])(\/)31)\1|(?:(?:0[1,3-9]|1[0-2])(\/)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:02(\/)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0?[1-9])|(?:1[0-2]))(\/)(?:0[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$" maxlength="10" [imask]="{mask: '00/00/0000'}"
            data-container="body" data-toggle="popover" data-placement="right" data-content="DOB must be a valid date in mm/dd/yyyy format.">
          <div class="ValidationFeedbackError">
            Invalid DOB.
          </div>
        </div>

        <div class="SearchCriteriaExactSearchControl">    
          <label>
            <input type="checkbox"
              id="exactSearchInput"
              [(ngModel)]="criteria.ExactSearch"
              name="exactSearchInput"/>Exact Search
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="SearchButtonsContainer">
    <div class="SearchHelp" (click)="onSearchHelpIconClick()">
      <i class="SearchHelpCircleIcon"><span>?</span></i>
      <span>HELP</span>
    </div>
    <div class="SearchButtonsRow">
      <button type="button" class="ClearResultsButton" id="clearButton" (click)="OnClearResults($event)">
        <span class="ButtonText">Clear Results</span>
      </button>
      <button type="submit" class="SearchButton" id="searchButton" (click)="OnSearch($event)" [disabled]="IsSearchDisabled()">
        <i class="SearchButtonIcon"></i>
        <span class="ButtonText">Search</span>
      </button>
    </div>
  </div>
</form>